---
title: "tikz in Quarto"

number-sections: true
number-depth: 2
crossref:
  chapters: false

---

## 설치 및 사전준비

[**tikz**](https://tikz.net) 는 기본적으로 $\LaTeX$ 환경에서 수행되는 시각화 툴이다. Quarto 에서 실행하기 위해서는 [R](https://www.r-project.org) 언어와 몇몇 패키지 설치가 필요하다. Mac 에서는 homebrew 를 이용하여 다음과 같이 설치 할 수 있다. 내친김에 [R studio](https://posit.co/download/rstudio-desktop/) 도 같이 설치한다. 

```sh
brew install --cask r
brew install --cask rstudio 
```

이제 R studio 를 실행하고 메뉴 -> Toos -> Install Packages .. 를 실행한후 메뉴를 따라 `rmakrdown`, `matick`, `pdftools` 패키지를 설치한다. 이제 아래의 코드를 통해 수행한다. 코드를 보고 싶으면 아래의 `[▶ 코드]` 에서 화살표를 누르면 된다.

```{r, engine = 'tikz'}
#| label: fig-tikz_first_exam
#| code-fold: true
#| echo: fenced
#| output: asis
#| fig-align: center
#| fig-cap: "tikz in Quarto 예시"

\usetikzlibrary{arrows}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{decorations.pathreplacing}

\begin{tikzpicture}
\draw (0,0)node(a){} -- (10,0) node (b) {} ;
\foreach \x in  {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10} % edit here for the vertical lines
\draw[shift={(\x,0)},color=black] (0pt,3pt) -- (0pt,-3pt);
\foreach \x in {0, 0.2, 0.4, 0.6, 0.8, 1} % edit here for the numbers
\draw[shift={(\x*10,0)},color=black] (0pt,0pt) -- (0pt,-3pt) node[below]
{$\x$};
\node at (8, 0.5) (eq1) {$\textcolor{red}{\boldsymbol{SQ}}$};
\node at (4, 0.5) (eq2) {$\textcolor{purple}{\boldsymbol{G_i(0)}}$}; 
\node at (7, 0.5) (eq2) {$\textcolor{purple}{\boldsymbol{G_i(1)}}$}; 
\node at (3, 0.5) (eq3) {$\textcolor{blue}{\boldsymbol{P}}$};
\node at (0, 0.5) (eq4) {$\textcolor{black}{\boldsymbol{x_i}}$};
\draw[decorate, decoration={brace, amplitude=6pt, mirror},] ([yshift=0.5cm]4,0.5)-- node[above=0.25cm]
{\shortstack{Text}}([yshift=0.5cm]3,0.5);
\draw[decorate, decoration={brace, amplitude=6pt},] ([yshift=-1cm]7,0)-- node[below=0.25cm]
{\shortstack{Text}}([yshift=-1cm]3,0);
\end{tikzpicture}
```

</br>

## 기본 예제

다음은 교차하는 직선과 교점을 그린 것이다.

```{r, engine = 'tikz'}
#| label: fig-tikz_2
#| code-fold: true
#| echo: fenced
#| output: asis
#| fig-width: 2
#| fig-align: center
#| fig-cap: "tikz 2"

\begin{tikzpicture}[scale=1.0]
\draw[gray] (-1,2) -- (2,-4);
\draw[red, thick] (-1,-1) -- (2,2);
\filldraw[black] (0,0) circle (2pt) node[anchor=west]{Intersection point};
\end{tikzpicture}
```

- `\draw[gray](-1, 2) -- (2, -4);` 는 $(-1, 2)$ 에서 $(2, -4)$ 까지 회색(gray) 의 직선을 그으라는 명령어이다. 
  
- `\draw[red, thick] (-1,-1) -- (2,2);` 는 주어진 좌표간의 빨갛고(red), 두꺼운(thick) 직선을 그으라는 의미이다.

- `\filldraw[black] (0,0) circle (2pt) node[anchor=west]{Intersection point};` 는 $(0, 0)$ 에 반지름 2 인 속이 꽉 찬 원을 그리며, $(0, 0)$ 을 서쪽으로 두는 문자열 `Intersection point` 를 출력하라는 의미이다. 




</br>

다음은 곡선을 그린 것이다.

```{r, engine = 'tikz'}
#| label: fig-tikz_3
#| code-fold: true
#| echo: fenced
#| output: asis
#| fig-width: 2
#| fig-align: center
#| fig-cap: "tikz 3"

\begin{tikzpicture}[scale=1.0]
\draw (-2,0) -- (2,0);
\filldraw [blue] (0,0) circle (2pt);
\draw[cyan] (-2,-2) .. controls (0,0) .. (2,-2);
\draw[magenta] (-2,2) .. controls (-1,0) and (1,0) .. (2,2);

\end{tikzpicture}
```

`\draw[magenta] (-2,2) .. controls (-1,0) and (1,0) .. (2,2);` 는 $(-2, 2)$ 와 $(2, 2)$ 를 끝점으로 하는, $(-1, 0)$ 과 $(1, 0)$ 을 